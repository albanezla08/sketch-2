<body>
  <p>O</p>
</body>
<style>
  p {
    position: fixed;
    left: 50%;
    top: 50%;
  }
</style>
<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
<script>
  /*Credit for clockwise mouse detection logic comes from these two sources*/
  /*https://gamedev.stackexchange.com/questions/158964/detect-how-much-mouse-has-rotated-in-a-circle-around-an-xy-point*/
  /*https://stackoverflow.com/questions/49147241/how-to-detect-if-mouse-is-moving-in-clockwise-direction*/
  let previousAngle;
  let previousMousePos;
  // const mouseEventBuffer = 0; // 5 mouse events occur before comparing current and previous angle
  // let mouseEventsPassed = 0;
  /* Stole this function from https://stackoverflow.com/questions/49147241/how-to-detect-if-mouse-is-moving-in-clockwise-direction */
  // cx,cy center of rotation
  // ox,oy old position of mouse
  // mx,my new position of mouse.
  function getAngleBetween(cx, cy, ox, oy, mx, my) {
    const x1 = ox - cx;
    const y1 = oy - cy;
    const x2 = mx - cx;
    const y2 = my - cy;
    // max to prevent div by zero
    const d1 = Math.max(0.001, Math.sqrt(x1 * x1 + y1 * y1));
    const d2 = Math.max(0.001, Math.sqrt(x2 * x2 + y2 * y2));
    return Math.asin((x1 / d1) * (y2 / d2) - (y1 / d1) * (x2 / d2));
  }
  function getCursorAngleAroundCenter (event) {
    
    // mouseEventsPassed++;
    // if (mouseEventsPassed < mouseEventBuffer) {
    //   return;
    // }
    // mouseEventsPassed = 0;
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    const mouseX = event.clientX;
    const mouseY = event.clientY;
    const angle = Math.atan2(mouseX - centerX, mouseY - centerY);
    console.log(nn.angleBtw(centerX, centerY, mouseX, mouseY));
    // const angleDelta = Math.abs(angle) - Math.abs(previousAngle);
    const angleDelta = getAngleBetween(centerX, centerY, previousMousePos[0], previousMousePos[1], mouseX, mouseY) * 180 / Math.PI;
    // console.log(angleDelta, angle, previousAngle);
    // if (Math.abs(angleDelta) > 2) {
    //   console.log(angleDelta, angle, previousAngle);
    // }
    // this would mean it wasn't moving clockwise, with the major exception of when it passes the top of the circle
    // if (angle - previousAngle > 0) {
    //   console.log(angleDelta, angle, previousAngle);
    // }
    // console.log(angleDelta, angle, previousAngle);
    previousAngle = angle;
    previousMousePox = [mouseX, mouseY];
  }
  function setInitialAngle (event) {
    document.removeEventListener('mousemove', setInitialAngle);
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    const mouseX = event.clientX;
    const mouseY = event.clientY;
    previousAngle = Math.atan2(mouseX - centerX, mouseY - centerY);
    previousMousePos = [mouseX, mouseY];
    document.addEventListener('mousemove', getCursorAngleAroundCenter);
  }
  
  document.addEventListener('mousemove', setInitialAngle);
</script>